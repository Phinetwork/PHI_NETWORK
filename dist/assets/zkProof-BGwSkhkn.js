const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser.esm-CVVEKEHP.js","assets/index-DAIxY8e4.js","assets/index-BjumX9GF.css"])))=>i.map(i=>d[i]);
import{Br as e}from"./index-DAIxY8e4.js";function t(e){return typeof e==`object`&&!!e&&Object.keys(e).length>0}function n(e){return e?typeof e==`string`?e.trim().length>0:Array.isArray(e)?e.length>0:t(e):!1}async function r(e){if(typeof fetch!=`function`)return e[0]??``;for(let t of e)try{if((await fetch(t,{method:`HEAD`})).ok)return t}catch{}return e[0]??``}async function i(){if(typeof fetch!=`function`)return null;try{let e=await fetch(`/zk/sigil.artifacts.json`);if(!e.ok)return null;let n=await e.json();if(t(n))return n}catch{return null}return null}async function a(){let t=e=>typeof e==`object`&&!!e&&`fullProve`in e&&typeof e.fullProve==`function`;if(typeof window<`u`&&t(window.snarkjs?.groth16))return window.snarkjs.groth16;let n=await e(()=>import(`./browser.esm-CVVEKEHP.js`),__vite__mapDeps([0,1,2])).catch(()=>null),r=n?.groth16??n?.default?.groth16;return t(r)?r:null}async function o(e){let t=e.poseidonHash?.trim();if(!t)return null;let o=await a();if(!o?.fullProve)return null;let s=await r([`/zk/sigil.wasm`,`/sigil.wasm`]),c=await r([`/zk/sigil.zkey`,`/sigil.zkey`]),l={poseidonHash:t,zkPoseidonHash:t,hash:t};try{let{proof:r,publicSignals:i}=await o.fullProve(l,s,c);return n(r)?{proof:r,proofHints:{scheme:`groth16-poseidon`,api:`/api/proof/sigil`,explorer:`/keystream/hash/${t}`,...e.proofHints??{}},zkPublicInputs:i}:null}catch{let n=await i();return n?{proof:n,proofHints:{scheme:`groth16-poseidon`,api:`/api/proof/sigil`,explorer:`/keystream/hash/${t}`,...e.proofHints??{}},zkPublicInputs:[t]}:null}}export{o as t};